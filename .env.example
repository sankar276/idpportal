# =============================================================================
# IDP Portal Environment Variables
# Copy this file to .env and fill in the values
# =============================================================================

# --- Application ---
APP_ENV=development                          # development | staging | production
DEBUG=false                                  # Set true only for local development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# --- AWS ---
AWS_REGION=us-west-2
AWS_PROFILE=idpportal
AWS_ACCOUNT_ID=

# --- Authentication (Keycloak) ---
KEYCLOAK_URL=http://localhost:8080           # Required for auth
KEYCLOAK_REALM=idpportal
KEYCLOAK_CLIENT_ID=idpportal-ui
KEYCLOAK_CLIENT_SECRET=                      # Required

# --- Identity Broker (Optional: Okta or ForgeRock) ---
OKTA_DOMAIN=
OKTA_CLIENT_ID=
OKTA_CLIENT_SECRET=
FORGEROCK_DOMAIN=
FORGEROCK_CLIENT_ID=
FORGEROCK_CLIENT_SECRET=

# --- AI / LLM ---
ANTHROPIC_API_KEY=                           # Required for AI features
OPENAI_API_KEY=                              # Alternative to Anthropic
LLM_PROVIDER=anthropic                       # anthropic | openai
LLM_MODEL=claude-sonnet-4-20250514

# --- GitHub ---
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_APP_WEBHOOK_SECRET=
GITHUB_TOKEN=                                # Required for GitHub agent

# --- Jira ---
JIRA_BASE_URL=
JIRA_API_TOKEN=
JIRA_USER_EMAIL=

# --- PagerDuty ---
PAGERDUTY_API_KEY=
PAGERDUTY_SERVICE_ID=

# --- Slack ---
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_DEFAULT_CHANNEL=

# --- Argo CD ---
ARGOCD_SERVER_URL=                           # e.g., https://argocd.idp.example.com
ARGOCD_AUTH_TOKEN=
ARGOCD_VERIFY_TLS=true                      # Set false for self-signed certs (dev only)

# --- Flux CD ---
FLUX_GITHUB_TOKEN=

# --- HashiCorp Vault ---
VAULT_ADDR=                                  # e.g., http://vault.vault.svc:8200
VAULT_TOKEN=

# --- Kafka ---
KAFKA_BOOTSTRAP_SERVERS=                     # e.g., kafka-bootstrap.kafka.svc:9092
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
SCHEMA_REGISTRY_URL=

# --- Rancher ---
RANCHER_SERVER_URL=                          # e.g., https://rancher.idp.example.com
RANCHER_API_TOKEN=
RANCHER_VERIFY_TLS=true                     # Set false for self-signed certs (dev only)

# --- Database (Required) ---
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/idpportal

# --- Redis (Required) ---
REDIS_URL=redis://localhost:6379/0

# --- Policy Agent ---
POLICY_AGENT_URL=http://localhost:8443
POLICY_AGENT_CLAUDE_API_KEY=

# --- Backstage ---
BACKSTAGE_URL=http://localhost:7007

# --- HTTP Client Settings ---
HTTP_TIMEOUT=30                              # seconds
